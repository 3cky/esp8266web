<!DOCTYPE html>
<html><head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<title>ESP8266 WiFi AP</title>
	<link rel="stylesheet" href="/style.css">
	<script src="/scripts.js"></script>
</head><body>
~inc:menu.inc~
	<div class="content">
		<h2 class="title">WiFi AP</h2>
		<form method='post' action='/timeout.htm'>
		<input type='hidden' name='wifi_rdcfg' value='0xffffffff'>
		<table class="form">
			<tr>
				<td class="label">WiFi Mode:</td>
				<td><select name='wifi_mode'>
					<option value='1'>STATION_MODE</option>
					<option value='2'>SOFTAP_MODE</option>
					<option value='3'>STATIONAP_MODE</option>
				</select></td>
			</tr>
			<tr>
				<td class="label">AP SSID:</td>
				<td><input name='wifi_ap_ssid' maxlength='31' value='~wifi_ap_ssid~'></td>
			</tr>
			<tr>
				<td class="label">Hidden SSID:</td>
				<td>
					<input type='hidden' name='wifi_ap_hssid' value='0'>
					<input type='checkbox' name='wifi_ap_hssid' value='1'>
				</td>
			</tr>
			<tr>
				<td class="label">AP Password:</td>
				<td><input name='wifi_ap_psw' maxlength='63' value='~wifi_ap_psw~'></td>
 			</tr>
			<tr>
				<td class="label">Channel:</td>
				<td><select name='wifi_ap_chl'>
					<option value='0'>auto</option>
				</select></td>
			</tr>
			<tr>
				<td class="label">IEEE PHY:</td>
				<td><select name='wifi_phy'>
					<option value='1'>802.11b</option>
					<option value='2'>802.11g</option>
					<option value='3'>802.11n</option>
				</select></td>
			</tr>
			<tr>
				<td class="label">Auth Mode:</td>
				<td><select title="Don't support AUTH_WEP in softAP mode"  name='wifi_ap_aum'>
					<option value='0'>OPEN</option>
					<option value='1'>WEP</option>
					<option value='2'>WPA_PSK</option>
					<option value='3'>WPA2_PSK</option>
					<option value='4'>WPA_WPA2_PSK</option>
				</select></td>
			</tr>
			<tr>
				<td class="label">IP:</td>
				<td><input name='wifi_ap_ip' maxlength='31' value='~wifi_ap_ip~'></td>
			</tr>
			<tr>
				<td class="label">Subnet Mask:</td>
				<td><input type='text' name='wifi_ap_msk' maxlength='31' value='~wifi_ap_msk~'></td>
			</tr>
			<tr>
				<td class="label">Gateway:</td>
				<td><input name='wifi_ap_gw' maxlength='31' value='~wifi_ap_gw~'></td>
			</tr>
			<tr>
				<td class="label">MAC:</td>
				<td><input name='wifi_ap_mac' maxlength='17' value='~wifi_ap_mac~'></td>
			</tr>
			<tr>
				<td class="label">DHCP:</td>
				<td>
					<input type='hidden' name='wifi_ap_dncp' value='0'>
					<input type='checkbox' name='wifi_ap_dncp' value='1'>
				</td>
			</tr>
			<tr>
				<td class="label">Start IP:</td>
				<td><input name='wifi_ap_sip' maxlength='31' value='~wifi_ap_sip~'></td>
			</tr>
			<tr>
				<td class="label">End IP:</td>
				<td><input name='wifi_ap_eip' maxlength='31' value='~wifi_ap_eip~'></td>
			</tr>
			<tr>
				<td class="label">Beacon (ms):</td>
				<td><input title='100...60000' name='wifi_ap_bint' maxlength='5' value='~wifi_ap_bint~'></td>
			</tr>
			<tr>
				<td class="label">Sleep Mode:</td>
				<td><select name='wifi_sleep'>
					<option value='0'>NONE</option>
					<option value='1'>LIGHT</option>
					<option value='2'>MODEM</option>
				</select></td>
			</tr>
			<tr>
				<td class="label">Max connections:</td>
				<td><select name='wifi_ap_mcns'>
					<option value='0'>0</option>
					<option value='1'>1</option>
					<option value='2'>2</option>
					<option value='3'>3</option>
					<option value='4'>4</option>
				</select></td>
			</tr>
		</table>
		<p class="center">
			<input type='submit' value='Set Config' class="button">
			<input type='hidden' name='wifi_newcfg' value='0x1017f'>
		</p>
		</form>
	</div>
~inc:footer.inc~
<script>
var chlnum = document.forms[0].wifi_ap_chl;
for (var i=1; i < 14; i++) {
	chlnum.options[i] = new Option(((i<10)?'0':'')+i,i);
}
var cfg = {
	wifi_ap_chl:"~wifi_ap_chl~",
	wifi_ap_aum:"~wifi_ap_aum~",
	wifi_phy:"~wifi_phy~",
	wifi_mode:"~wifi_mode~",
	wifi_ap_mcns:(~wifi_ap_mcns~ > 4) ? 4 : ~wifi_ap_mcns~,
	wifi_sleep:"~wifi_sleep~",
	wifi_ap_hssid:"~wifi_ap_hssid~",
	wifi_ap_dncp:"~wifi_ap_dncp~"
}
setFormValues(document.forms[0], cfg);
</script>
</body></html>